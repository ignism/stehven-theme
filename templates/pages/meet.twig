{% extends 'base.twig' %}

{% set prefix = 'meet_' ~ locale|getLang ~ '_' %}

{% block header %}
<header class="section flex flex-col">
    <div class="w-full pt-24 flex-1 bg-green">
        <div class="h-full relative">
            <div class="m-12 h-auto pin absolute">
                <img class="h-full max-w-full" src="{{ theme.link }}/assets/images/meet-our-team.svg" alt="">
            </div>
        </div>
    </div>
    <div class="w-full h-1/2 flex-0 flex">
        <div class="w-1/2 bg-green text-red flex flex-wrap">
            <div class="w-1/2">
                {% include "components/triangle-bottom-mirror-svg.twig" %}
            </div>
            <div class="w-1/2">
                {% include "components/triangle-bottom-svg.twig" %}
            </div>
            <div class="w-1/2">
                {% include "components/triangle-top-mirror-svg.twig" %}
            </div>
            <div class="w-1/2">
                {% include "components/triangle-top-svg.twig" %}
            </div>
        </div>
        <div class="w-1/2 bg-white text-red flex flex-wrap items-center justify-center">
            <p class="w-3/4 text-2xl">
                {{ page.meta(prefix ~ 'header_text')}}
            </p>
        </div>
    </div>
        <div class="zenscroll absolute w-16 h-16 pin-b pin-r z-40 cursor-pointer" data-direction="down">
        <img src="{{ theme.link }}/assets/images/double-arrow-down.svg" alt="">
    </div>
</header>
{% endblock %}
{# #}
{% block content %}

{% set bigItems = [] %}
{% set smallItems = [] %}

{% for item in members %}
{% if item.meta('is_member_of_stehven') %}
{% set bigItems = bigItems|merge([item]) %}
{% else %}
{% set smallItems = smallItems|merge([item]) %}
{% endif %}
{% endfor %}


<section class="section max-h-full w-full flex flex-col flex-wrap" style="overflow: visible; height: auto; min-height: 100vh; max-height: none;
">

    <div class="portrait-row w-full flex flex-wrap">
        {% set rowToggle = true %}
        {% for item in bigItems %}
        {% if loop.index is divisible by(2) %}
        {% set rowToggle = not rowToggle %}
        {% if rowToggle %}
        {% set color = 'green' %}
        {% else %}
        {% set color = 'red' %}
        {% endif %}
        {% else %}
        {% if rowToggle %}
        {% set color = 'green' %}
        {% else %}
        {% set color = 'red' %}
        {% endif %}
        {% endif %}


        <div class="portrait w-1/2 h-full overflow-hidden relative">
            <div class="absolute pin z-10" style="background-image: url({{ TimberImage(item.meta('team_profile_picture')).src }}); background-size: cover; background-position: center"></div>
            <div class="portrait-overlay absolute w-full h-full z-20 bg-{{ color }} p-12 flex flex-col justify-between">
                <h3>
                    {{ item.meta('team_first_name') }}<br>
                    {{ item.meta('team_last_name') }}
                </h3>
                <p><span class="font-medium">STEHVEN</span><br>
                    {{ item.meta('team_role') }}
                </p>
            </div>
        </div>

        {% if loop.index is divisible by(2) %}
        {% if loop.index < bigItems|length %} </div> <div class="portrait-row w-full flex flex-wrap">
            {% endif %}
            {% else %}
            {% if loop.index == bigItems|length %}
            {% if color == 'red' %}
            {% set diffColor = 'green' %}
            {% else %}
            {% set diffColor = 'red' %}
            {% endif %}

            <div class="portrait w-1/2 h-full overflow-hidden relative">
                <div class="portrait-overlay w-full h-full z-20 bg-{{ diffColor }} p-12 flex flex-col justify-between">
                    <h3>
                        Want<br>
                        to <span class="text-{{ color }}">join</span><br>
                        the team<br>
                    </h3>
                    <div class="absolute w-16 h-16 pin-b pin-r">
                        <img src="{{ theme.link }}/assets/images/arrow-down-white.svg">
                    </div>
                </div>
            </div>
            {% endif %}
            {% endif %}


            {% endfor %}

    </div>


    {# SMALL #}

    <div class="w-full px-12 h-48 bg-blue flex items-center">
        <h3><span class="text-red">Team</span> Stehven</h3>
    </div>

    <div class="small-portrait-row w-full flex flex-wrap bg-blue">
        {% set rowToggle = true %}
        {% for item in smallItems %}
        {% if loop.index is divisible by(4) %}
        {% set rowToggle = not rowToggle %}
        {% endif %}

        {% if loop.index is divisible by(2) %}
        {% if rowToggle %}
        {% set color = 'red' %}
        {% else %}
        {% set color = 'green' %}
        {% endif %}
        {% else %}
        {% if rowToggle %}
        {% set color = 'green' %}
        {% else %}
        {% set color = 'red' %}
        {% endif %}
        {% endif %}
        <div class="portrait w-1/4 h-full overflow-hidden relative">
            <div class="absolute pin z-10" style="background-image: url({{ TimberImage(item.meta('team_profile_picture')).src }}); background-size: cover; background-position: center"></div>
            <div class="portrait-overlay absolute w-full h-full z-20 bg-red p-12 flex flex-col justify-between">
                <h3 class="text-5xl">
                    {{ item.meta('team_first_name') }}<br>
                    {{ item.meta('team_last_name') }}
                </h3>
                <p><span class="font-medium">{{ item.meta('team_other') }}</span><br>
                    {{ item.meta('team_role') }}
                </p>
            </div>
        </div>

        {% if loop.index is divisible by(4) %}
        {% if loop.index < smallItems|length %} </div> <div class="small-portrait-row w-full flex flex-wrap bg-blue">
            {% endif %}
            {% else %}

            {% if loop.index == smallItems|length %}
            {% set value = loop.index %}
            {% for i in 1..3 %}
            {% if (value + i < 5) %} <div class="portrait w-1/4 h-full overflow-hidden relative text-red">
                {% if loop.index == 1 %}
                {% include "components/triangle-bottom-mirror-svg.twig" %}
                {% endif %}
                {% if loop.index == 2 %}
                {% include "components/triangle-bottom-svg.twig" %}
                {% endif %}
                {% if loop.index == 3 %}
                {% include "components/triangle-bottom-mirror-svg.twig" %}
                {% endif %}

    </div>
    {% endif %}
    {% endfor %}

    {% endif %}
    {% endif %}

    {% endfor %}

    </div>


</section>

{% endblock %}
{# #}
{% block footer %}

<footer id="footer" class="section bg-red flex flex-wrap flex-col justify-between">
    <div class="w-full px-12 py-12 bg-white text-center" style="height: 40vh">
        <img class="h-full max-w-full" src="{{ theme.link }}/assets/images/join-stehven.svg" alt="" />
    </div>
    <div class="w-full flex-1 flex flex-wrap relative" style="height: auto">
        <div class="absolute pin z-10 text-center text-green">
            {% include "components/triangle-up-svg.twig" %}
        </div>
        <div class="w-1/2 px-12 py-12 relative z-20">
            <p class="text-3xl">
                {{ page.meta(prefix ~ 'footer_text')}}
            </p>
        </div>
        <div class="w-1/2 px-12 py-12 text-right  relative z-20">
            <div class="">
                <p class="text-3xl">
                    <a class="text-white" href="mailto:{{ page.meta(prefix ~ 'footer_mail')}}">{{ page.meta(prefix ~ 'footer_mail')}}</a>
                </p>
            </div>
        </div>
        <div class="zenscroll absolute w-16 h-16 pin-b pin-r z-40 cursor-pointer -mb-px" data-direction="up">
            <img src="{{ theme.link }}/assets/images/double-arrow-up.svg" alt="">
        </div>
    </div>
    {% include "components/social.twig" %}
</footer>

{% endblock %}